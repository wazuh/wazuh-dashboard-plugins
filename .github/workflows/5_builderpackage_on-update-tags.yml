# ğŸš€ **Production Build Workflow**
#
# âš¡ **Overview:**
# This GitHub Action automatically builds a production-ready package whenever a new tag following the pattern `v*` is pushed.
#
# ğŸ› ï¸ **Key Features:**
# - ğŸ·ï¸ Triggered by tag creation (`v*`), ideal for versioned releases.
# - ğŸ“¦ Produces a tagged artifact named `wazuh-<tag>`.
# - ğŸ”„ Reuses the `5_builderprecompiled_base-dev-environment` workflow to maintain consistency across builds.
#
# âš ï¸ **Notes:**
# - Ensure tag names follow the `v*` convention (e.g., `v1.2.3`).

name: Build

on:
  push:
    tags:
      - 'v*'
jobs:
  build:
    name: Build app package (auto)
    uses: ./.github/workflows/5_builderprecompiled_base-dev-environment.yml
    with:
      reference: ${{ github.ref_name }}
      command: 'yarn build'
      artifact_name: 'wazuh-${{ github.ref_name }}'
