version: '3'

# Parameters:
# -------------
#   - REPO:         Path to the Wazuh app local repository
#   - NODE_VERSION: Node.js version (default: 20)

services:
  url_checks:
    container_name: url-checks
    image: node:${NODE_VERSION:-20}-alpine
    working_dir: /app
    volumes:
      - ${REPO}:/app
    tty: true
    command: /bin/sh -c '
      npm install -g tsx typescript --no-package-lock &&
      tsx scripts/url-checks-extractor.ts
      '
