
<div layout="row" class="md-padding" ng-show="wazuh_table_loading" >
    <md-progress-linear class="md-accent" md-mode="indeterminate"></md-progress-linear>
</div>
<div layout="row" ng-show="!wazuh_table_loading && items.length">
    <table class="table table-striped table-condensed" style="table-layout: fixed !important" id="wz_table">
        <thead class="wz-text-bold">
            <th ng-repeat="key in keys" class="wz-text-left" 
                ng-class="{ 'cursor-pointer' : !key.nosortable, 'col-lg-1' : !key.size, 'col-lg-{{key.size}}' : key.size }"
                ng-click="!key.nosortable && sort(key)">
                {{ keyEquivalence[key.value || key] || key.value || key }}
                <i ng-if="!key.nosortable" class="fa wz-theader-sort-icon" ng-class="sortValue === (key.value || key) ? (sortDir ? 'fa-sort-asc' : 'fa-sort-desc') : 'fa-sort'"
                    aria-hidden="true"></i>
            </th>
        </thead>
        <tbody>
            <tr ng-class="allowClick ? 'cursor-pointer' : ''" class="wz-word-wrap" ng-repeat="item in pagedItems[currentPage]" ng-click="clickAction(item)">
                <td ng-repeat="key in keys" ng-if="path !== '/decoders'">
                    {{ 
                        key === 'os.name' ? 
                        item.os.name || '---' : 
                        key === 'os.version' ? 
                        item.os.version || '---' : 
                        checkIfArray(item[key.value || key]) || '---' 
                    }}
                </td>
                <td ng-repeat="key in keys" ng-if="path === '/decoders'">
                    {{ 
                        key === 'details.program_name' || key.value === 'details.program_name' ? 
                        item.details.program_name || '---' : 
                        key === 'details.order' || key.value === 'details.order' ? 
                        item.details.order || '---' : 
                        checkIfArray(item[key.value || key]) || '---' 
                    }}
                </td>
                
            </tr>
        </tbody>
        <tfoot >
            <td colspan="{{keys.length}}">
                <span ng-show="!wazuh_table_loading" class="color-grey">{{ totalItems }} items ({{time | number: 2}} seconds)</span>
                <div ng-show="items.length >= itemsPerPage" class="pagination pull-right" style="margin:0 !important">
                    <ul layout="row">
                        <li ng-class="{disabled: currentPage == 0}" class="md-padding">
                            <a href ng-click="prevPage()">« Prev</a>
                        </li>

                        <li ng-repeat="n in range(pagedItems.length, currentPage, currentPage + gap) " ng-class="{active: n == currentPage}" ng-click="setPage()"
                            class="md-padding">
                            <a href ng-bind="n + 1">1</a>
                        </li>

                        <li ng-class="{disabled: (currentPage) == pagedItems.length - 1}" class="md-padding">
                            <a href ng-click="nextPage()">Next »</a>
                        </li>
                    </ul>
                </div>
            </td>
        </tfoot>
    </table>
</div>