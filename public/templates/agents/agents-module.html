<div ng-if="agent">
    <div ng-if="tab !== 'welcome'">
        <react-component name="MainModule" props="{agent, section: tab, disabledReport: resultState !== 'ready'}" />
    </div>
    <div ng-if='!loadingDashboard'>
        <div ng-show='(showModuleDashboard || showModuleEvents) && showModuleDashboard !== "welcome"'>
            <div ng-if='showModuleEvents && !moduleDiscoverReady' style="margin: 0 auto; width: 32px">
                <span class="euiLoadingSpinner euiLoadingSpinner--xLarge" style="margin-top: 24px"></span>
            </div>
            <div ng-class="{'no-opacity': !moduleDiscoverReady}">
                <kbn-dis></kbn-dis>
            </div>
        </div>
    </div>

    <div ng-if="tab === 'mitre' && showModuleDashboard  && !showModuleEvents">
        <react-component name="Mitre" />
    </div>

    <!-- Loading status section -->
    <div ng-if="tabView === 'panels' && showModuleDashboard && !rendered && resultState !== 'none'"
        class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--justifyContentSpaceAround euiFlexGroup--directionRow euiFlexGroup--responsive">
        <div class="euiFlexItem euiFlexItem--flexGrowZero euiTextAlign euiTextAlign--center">
            <div class="euiSpacer euiSpacer--m"></div>
            <span class="euiLoadingChart euiLoadingChart--large">
                <span class="euiLoadingChart__bar"></span>
                <span class="euiLoadingChart__bar"></span>
                <span class="euiLoadingChart__bar"></span>
                <span class="euiLoadingChart__bar"></span>
            </span>
            <div class="euiSpacer euiSpacer--m"></div>
            <div class="percentage">{{loadingStatus}}</div>
        </div>
    </div>
    <!-- End loading status section -->
    <!-- Report status section -->
    <div ng-if="reportBusy && reportStatus && showModuleDashboard"
        class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--justifyContentSpaceAround euiFlexGroup--directionRow euiFlexGroup--responsive">
        <div class="euiFlexItem euiFlexItem--flexGrowZero euiTextAlign euiTextAlign--center">
            <div class="euiSpacer euiSpacer--m"></div>
            <span class="euiLoadingChart euiLoadingChart--large">
                <span class="euiLoadingChart__bar"></span>
                <span class="euiLoadingChart__bar"></span>
                <span class="euiLoadingChart__bar"></span>
                <span class="euiLoadingChart__bar"></span>
            </span>
            <div class="euiSpacer euiSpacer--m"></div>
            <div class="percentage">{{reportStatus}}</div>
            <div class="euiSpacer euiSpacer--l"></div>
        </div>
    </div>
    <!-- No results section -->
    <div layout="row" class="wz-margin-top-10 wz-margin-right-8 wz-margin-left-8"
    ng-if="tab !== 'welcome'" ng-show="resultState === 'none' && tabView === 'panels' && showModuleDashboard">
    <react-component flex name="EuiCallOut" props="{color:'warning',iconType:'help', title:'There are no results for selected time range. Try another
        one.'}" />
    </div>

    <!-- End report status section -->
    <div ng-if="tab && tab!=='welcome'" ng-show="resultState !== 'none'">
        <div ng-class="{'no-opacity': !moduleDiscoverReady}">
            <react-component ng-show='showModuleDashboard' name="WzVisualize"
                props="{selectedTab: tab, isAgent: true}" />
        </div>
    </div>
</div>