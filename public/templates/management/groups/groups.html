<div flex layout="column" ng-class="{'cursor-wait': multipleSelectorLoading}"
    ng-controller="groupsPreviewController as gp" ng-if="mctrl.tab == 'groups'">
    <!-- Main content -->
    <md-content flex layout="column" class=" overflow-hidden" ng-init="gp.lookingGroup=false">
        <!-- Loading ring -->
        <div class="md-padding md-padding-top-16" ng-show="gp.load">
            <react-component name="EuiProgress" props="{size: 'xs', color: 'primary'}" />
        </div>

        <!-- Inside the group -->
        <div flex layout="column" layout-align="start stretch" ng-show="!gp.load && gp.lookingGroup "
            ng-init="gp.groupsSelectedTab='agents'">
            <div ng-if="!gp.editingFile">
                <div layout="row" class="md-padding" ng-if="gp.currentGroup && gp.addingAgents">
                    <span ng-click='gp.cancelButton()' class='wz-margin-top-3 kuiButton kuiButton--hollow'>
                        Cancel</span>
                    <span ng-hide='moreThan500' ng-click='gp.saveAddAgents()' class='btn wz-button wz-margin-left-8'><i
                            aria-hidden='true' class='fa fa-fw fa-save'></i>
                        Apply changes</span>
                    <span class='error-msg' ng-show='gp.moreThan500'><i class="fa fa-exclamation-triangle"></i> It is
                        not
                        possible to apply changes of more than 500 additions or deletions</span>
                </div>

                <div layout="row" class="md-padding" ng-if="gp.addingAgents">
                    <span ng-show='!gp.multipleSelectorLoading' class="wzMultipleSelectorCounter"><span
                            style='color:green'>+{{gp.currentAdding}}</span>&nbsp;
                        <span style='color:red'>-{{gp.currentDeleting}}</span></span>
                    <wz-multiple-selector class='wzMultipleSelector' available-items="gp.availableAgents.data"
                        selected-items="gp.selectedAgents.data" title-available-items="Available agents"
                        title-selected-items="Current agents in the group" total-selected-items="gp.totalSelectedAgents"
                        reload-scroll='gp.reload(element, searchTerm, 499, start)' limit="gp.checkLimit()">
                    </wz-multiple-selector>
                </div>
            </div>
        </div>
        <!-- End inside the group -->
    </md-content>
</div>