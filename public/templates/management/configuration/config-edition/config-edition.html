<div flex="auto" layout="column" ng-if="editionTab === 'editconfiguration'">

    <div flex="auto" layout="column" ng-controller="editionController" ng-show="editingFile && !load ">

        <!-- Loading ring -->
        <div class='uil-ring-css' ng-show="load">
            <div></div>
        </div>

        <!-- Headline (cluster) -->
        <div layout="column" layout-padding ng-show="clusterStatus.data.data.enabled === 'yes'">
            <div layout="row">
                <span class="font-size-18">
                    <i class="fa fa-fw fa-edit" aria-hidden="true"></i> Cluster configuration</span>
            </div>
            <div layout="row">
                <span class="md-subheader">Edit master/worker configuration</span>
            </div>

            <!-- List of nodes if cluster is enabled -->
            <div ng-show="selectedNode && clusterStatus.data.data.enabled === 'yes'" layout="row" layout-padding style="position: absolute;right: calc(0% + 260px);">
                <div layout="column" layout-align="center" class="height-40 wz-select-input">
                    <select class="kuiSelect wz-border-none cursor-pointer max-height-35" id="categoryBox" ng-model="selectedNode"
                        ng-change="changeNode(selectedNode)" aria-label="Select node">
                        <option ng-repeat="node in nodes" value="{{node.name}}">{{node.name}} ({{node.type}})</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Headline (manager) -->
        <div layout="column" layout-padding ng-show="clusterStatus.data.data.enabled !== 'yes'">
            <div layout="row">
                <span class="font-size-18">
                    <i class="fa fa-fw fa-edit" aria-hidden="true"></i> Manager configuration</span>
            </div>
            <div layout="row">
                <span class="md-subheader">Edit manager configuration</span>
            </div>
        </div>
        <!-- End headline -->



        <div flex="auto" class="wz-padding-top-50" layout="row">

            <!-- XML editor for node configuration -->
            <div flex layout="column">
                <div layout="row" class="md-padding-h">
                    <button ng-disabled='xmlHasErrors' ng-click='saveConfiguration()' class='btn btn-primary'>
                        <span ng-show='!xmlHasErrors'><i aria-hidden='true' class='fa fa-fw fa-save'></i>Save file</span>
                        <span ng-show='xmlHasErrors' class='btn-danger'><i aria-hidden='true' class='fa fa-fw fa-exclamation-triangle'></i>
                            XML format error</span>
                    </button>
                </div>
                <div class="md-padding md-padding-top-10" style="height: calc(100vh - 280px);" ng-if="fetchedXML">
                    <wz-xml-file-editor file-name='ossec.conf' data="fetchedXML" target-name="selectedNode" valid-fn='xmlIsValid(valid)'>
                    </wz-xml-file-editor>
                </div>
            </div>



        </div>


    </div>
</div>